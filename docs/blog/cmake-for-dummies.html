<!DOCTYPE html>
<html>
    <head>
        <title>Aryan Baburajan</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
        <link rel="icon" type="image/x-icon" href="../img/favicon.ico" />
        <link rel="stylesheet" href="../index.css">
        <script src="https://kit.fontawesome.com/fefaf62ee6.js" crossorigin="anonymous"></script>

        <!-- Primary Meta Tags -->
        <meta name="title" content="Aryan Baburajan" />
        <meta name="description" content="I'm Aryan, a programmer, music enthusiast and an inquisitive human. I love building things — games, applications, libraries, or tools that change the way things work. I specialize in C++, with which I'm currently developing a game engine, Ducktape, using OpenGL." />
        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://metatags.io/" />
        <meta property="og:title" content="Aryan Baburajan" />
        <meta property="og:description" content="I'm Aryan, a programmer, music enthusiast and an inquisitive human. I love building things — games, applications, libraries, or tools that change the way things work. I specialize in C++, with which I'm currently developing a game engine, Ducktape, using OpenGL." />
        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image" />
        <meta property="twitter:url" content="https://metatags.io/" />
        <meta property="twitter:title" content="Aryan Baburajan" />
        <meta property="twitter:description" content="I'm Aryan, a programmer, music enthusiast and an inquisitive human. I love building things — games, applications, libraries, or tools that change the way things work. I specialize in C++, with which I'm currently developing a game engine, Ducktape, using OpenGL." />
    </head>
    <body>
        <div id="content">
            <a href="../index.html">Aryan Baburajan</a>
            <h1>CMake for Dummies</h1>
<p>You want to get started with C++ projects, I get it.
CMake gives you manual control over how to build libraries/build applications/link libraries/include files etc. And you control these properties with the <code>CMakeLists.txt</code> file, which would be the base of your project.</p>
<p>To clear things up beforehand, as always in C++, there are multiple ways of doing things. And as such, I have my own preferred way of adding external libraries to my project. I use an in-source-build method, so the respective libraries are added in to my source code (by perhaps using git submodules, though it's not necessary).</p>
<p>Let's say we were making a game using <a href="https://raylib.com/">Raylib</a>. Here's how I would do it.</p>
<ul>
<li>
<p>Initial repository structure:</p>
<ul>
<li>Extern/ (call it External/Lib/Libraries or whatever)</li>
<li>Include/ </li>
<li>Src/</li>
<li>CMakeLists.txt</li>
</ul>
</li>
<li>
<p>Since we're using Raylib, get its source code from <a href="https://github.com/raysan5/raylib/releases">Github</a>, and extract it in <code>Extern/Raylib</code></p>
</li>
<li>Create <code>Src/Main.cpp</code> and copy paste the <a href="https://www.raylib.com/examples/core/loader.html?name=core_basic_window">basic window creation code</a>. (Note that this tutorial is about CMake, not Raylib, so we will not be getting into that.)</li>
<li>Now's the time to get into writing the CMake configuration file.</li>
<li>This is what it would look like at the end:
<code>cmake_minimum_required(VERSION 3.25)
set (CMAKE_CXX_STANDARD 17)
project("Doom")
add_subdirectory("${PROJECT_SOURCE_DIR}/Extern/Raylib")
add_executable(Doom "${PROJECT_SOURCE_DIR}/Src/Main.cpp")
target_include_directories(Doom PUBLIC "${PROJECT_SOURCE_DIR}/Extern/Raylib/src")
target_link_libraries(Doom PUBLIC raylib)</code></li>
<li><code>cmake_minimum_required(VERSION 3.25)
set (CMAKE_CXX_STANDARD 17)</code>
    Take this as the boilerplate. The first line defines the minimum version of CMake required to build your project. The second, defines the C++ version to use (which in this case is C++17, which I mostly prefer.)</li>
<li><code>project("Doom")</code>
    Pretty obvious tbh, define the project name (yes I called it Doom).</li>
<li><code>add_subdirectory("${PROJECT_SOURCE_DIR}/Extern/Raylib")</code>
    Now this is where the magic happens.
    In short, <code>add_subdirectory()</code> adds a sub-cmake-project that exists within your project, to the list of projects to compile. Essentially, we're telling CMake to compile Raylib's source code before it compiles ours.</li>
<li><code>add_executable(Doom "${PROJECT_SOURCE_DIR}/Src/Main.cpp")</code>
    Compile the provided source files <code>Main.cpp</code> into an executable <code>Doom</code></li>
<li><code>target_include_directories(Doom PUBLIC "${PROJECT_SOURCE_DIR}/Extern/Raylib/src")</code>
    Add the <code>Extern/Raylib/src</code> dir to the include directories of our project so we can include the right Raylib headers with <code>#include "raylib.h"</code></li>
<li><code>target_link_libraries(Doom PUBLIC raylib)</code>
    Finally, link the Raylib library.</li>
</ul>
<p>Now it's time to build it.
Go to the root of your project, and run these commands.
<code>mkdir Build</code>
<code>cd Build</code>
<code>cmake ..</code>
<code>make</code></p>
<p>Reminds me, I never went through how to install CMake and Make. That's funny, but let's just hope you figure that part out somehow. Make is usually pre-installed when you install MinGW but if not, (<a href="https://cmake.org/install/">CMake</a>, <a href="https://stackoverflow.com/a/54086635">Make</a>)</p>
<p>Anyways, if you get the "Congrats! You created your first window!" window when running the program, which is in <code>Build/</code> Congratulations! You've succeeded.</p>
<p>You've got the basics of linking an external library. Though this process may differ for other libraries, I'm sure you can find resources on that.
Here's one:
- <a href="https://stackoverflow.com/a/9469349">OpenGL</a></p>
<p>Now this post is by no means an extensive tutorial on CMake. It's just to get your feets dipped. Go figure the rest of it yourself, that's what a programmer's job is.</p>
<p>For any help, feel free to ask on my <a href="https://dsc.gg/ducktape">Discord server</a>.</p>
            <div id="footer">
                © Aryan Baburajan 2023
                <div id="links">
                    <a href="https://aryanbaburajan.itch.io" target="_blank"><i class="fa-brands fa-itch-io"></i></a>
                    <a href="https://linkedin.com/in/aryanbaburajan" target="_blank"><i class="fa-brands fa-linkedin-in"></i></a>
                    <a href="https://twitter.com/aryanbaburajan" target="_blank"><i class="fa-brands fa-twitter"></i></a>
                    <a href="https://github.com/aryanbaburajan" target="_blank"><i class="fa-brands fa-github"></i></a>
                    <a href="mailto:aryanbaburajan2007@gmail.com" target="_blank"><i class="fa-solid fa-envelope"></i></a>
                    <a href="../resume.pdf" target="_blank"><i class="fa-solid fa-file"></i></a>
                </div>
            </div>
        </div>
    </body>
</html>